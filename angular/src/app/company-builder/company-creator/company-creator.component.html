<h3 class="text-center">Creating a new company</h3>

<form #dataForm="ngForm" (ngSubmit)="dataForm.valid && onSubmit(dataForm)">

  <div class="form-group">
    <label for="projName">Select the name</label>
    <input type="text" class="form-control" id="projName" placeholder="Enter the name" name="name" #name="ngModel"
      [(ngModel)]="companyData.name" required>
  </div>
  <div *ngIf="dataForm.submitted && name.errors">
    <div *ngIf="name.errors?.required" class="alert alert-danger">This field is required.</div>
  </div>

  <div class="pt-2">
    <label for="select">Choose the category of your project</label>
    <select id="select" class="custom-select" name="category" #category="ngModel" [(ngModel)]="companyData.category"
      required>
      <option value="Arts">Arts</option>
      <option value="Comics & Illustration">Comics & Illustration</option>
      <option value="Design & Tech">Design & Tech</option>
      <option value="Film">Film</option>
      <option value="Food & Craft">Food & Craft</option>
      <option value="Games">Games</option>
      <option value="Music">Music</option>
      <option value="Publishing">Publishing</option>
    </select>
    <div *ngIf="dataForm.submitted && category.errors">
      <div *ngIf="category.errors?.required" class="alert alert-danger">This field is required.</div>
    </div>
  </div>


  <div class="form-group pt-3">
    <label for="exampleFormControlTextarea1">Add the description of your project</label>
    <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" minlength="300" maxlength="7000"
      name="description" #description="ngModel" [(ngModel)]="companyData.description" required></textarea>
  </div>
  <div *ngIf="dataForm.submitted && description.errors">
    <div *ngIf="description.errors?.minlength" class="alert alert-danger">This field must be at least 300 symbols.</div>
    <div *ngIf="description.errors?.required" class="alert alert-danger">This field is required.</div>
    <!-- <div *ngIf="description.errors?.maxlength" class="alert alert-danger">this field cannot be more than 3500 characters</div> -->
  </div>


  <h5 class="text-center">Drop your images here</h5>
  <div class="uploadfilecontainer" (click)="fileInput.click()" appDragDrop (onFileDropped)="uploadFile($event)">
    <input hidden type="file" #fileInput (change)="uploadFile($event.target.files)">
  </div>
  <div class="files-list" *ngFor="let file of files; let i= index">
    <p> {{ file.name }} </p>
    <button class="delete-file" (click)="deleteAttachment(i)">
      <img src="../../../assets/img/Recycle_Bin_Full.png">
    </button>
  </div>

  <div class="form-group pb-3">
    <label for="projVideo">Insert the id of your youtube video</label>
    <input type="text" class="form-control" id="projVideo" name="youtubeLink" #youtubeLink="ngModel"
      [(ngModel)]="companyData.youtubeLink">
  </div>

  <div class="row">

    <div class="form-group pb-3 col">
      <label for="sum">The sum needed</label>
      <input type="text" class="form-control" id="sum" name="sum" #sum="ngModel" [(ngModel)]="companyData.sum" required>
      <div *ngIf="dataForm.submitted && sum.errors">
        <div *ngIf="sum.errors?.required" class="alert alert-danger">This field is required.</div>
      </div>

    </div>



    <div class="form-group pb-3 col">
      <label for="date">The terminal date</label>
      <input type="date" class="form-control" id="date" name="date" #date="ngModel" [(ngModel)]="companyData.date"
        required>
      <div *ngIf="dataForm.submitted && date.errors">
        <div *ngIf="date.errors?.required" class="alert alert-danger">This field is required.</div>
      </div>
    </div>



  </div>


  <button class="btn btn-block btn-success" type="submit">Save</button>
  <br>
</form>
