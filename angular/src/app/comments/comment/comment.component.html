<h3 class="text-center mt-5">Comments</h3>
<form #commentForm="ngForm" (ngSubmit)="commentForm.valid && onSubmit(commentForm)">
    <div class="form-group">
      <p class="text-center">Enter your comment {{userData.userName}}</p>
      <textarea type="text" rows="3" class="form-control" #text="ngModel" name="text"
      [(ngModel)]="userData.text" minlength="5" required></textarea>

      <div *ngIf="commentForm.touched && text.errors">
          <div *ngIf="text.errors.required" class="alert alert-danger">This field is required.</div>
      </div>

      <div *ngIf="commentForm.touched && text.errors">
          <div *ngIf="text.errors.minlength" class="alert alert-danger">This field must be at least  characters</div>
      </div>

    </div>
    
    <button type="submit"  class="btn btn-primary pl-5 pr-5 float-right">Send</button>
</form>
<br>
<br>

<div class="text-center justify-content-center" *ngFor="let comment of oldComments">
    <div class="btn btn-secondary justify-content-center comment-width pl-5 pr-5 m-3"> 
        <p>{{comment.userName}}</p>
        <p>{{comment.text}}</p>
    </div>
</div>

<div class="text-center justify-content-center" *ngFor="let comment of comments">
    <div *ngIf="userData.idCompany==comment.idCompany">
        <div class="btn btn-secondary justify-content-center comment-width pl-5 pr-5 m-3"> 
            <p>{{comment.userName}}</p>
            <p>{{comment.text}}</p>
        </div>
    </div>
</div>


